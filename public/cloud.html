<!DOCTYPE html>
<meta charset="utf-8">
<body>
  <script src="js/d3.v3.min.js"></script>
  <script src="js/d3.layout.cloud.js"></script>
  <script src="js/twitteranalysiscloud.js"></script>
  <script>
var words = [{text:"This", size: 10, "url":"http://google.com/"},
             {text:"is", size: 20, "url":"http://bing.com/"},
             {text:"some", size: 30, "url":"http://somewhere.com/"},
             {text:"random", size:40, "url":"http://random.org/"},
             {text:"text", size: 50, "url":"http://text.com/"}]

//This method tells the word cloud to redraw with a new set of words.
//In reality the new words would probably come from a server request,
// user input or some other source.
function showNewWords(vis) {
    // generate random word
    var newWord = {
      text: randomString(5),
      size: ~~(Math.random() * 5) * 10,
      "url":"http://www.paco.com"
    };
    words.push(newWord);

    // UPDATE THE CLOUD
    vis.update(words);

    setTimeout(function() { showNewWords(vis) }, 2000)
}

//Create a new instance of the word cloud visualisation.
var myWordCloud = wordCloud('body');

//Start cycling through the demo data
showNewWords(myWordCloud);

//
// Helper function for generate random string (only for demo)
//
function randomString(len, charSet) {
    charSet = charSet || 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    var randomString = '';
    for (var i = 0; i < len; i++) {
    	var randomPoz = Math.floor(Math.random() * charSet.length);
    	randomString += charSet.substring(randomPoz,randomPoz+1);
    }
    return randomString;
}
</script>
</body>
